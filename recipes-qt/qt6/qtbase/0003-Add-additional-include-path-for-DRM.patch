From dc8d5028d50534e2339ea3fd371a0bd7d89cc1f9 Mon Sep 17 00:00:00 2001
From: Samuli Piippo <samuli.piippo@qt.io>
Date: Thu, 23 Jan 2020 15:56:43 +0200
Subject: [PATCH 3/4] Add additional include path for DRM

Tegra has drm.h header in include/drm instead of include/libdrm

Both paths are defined in libdrm.pc, but those are not used since this
cmake file searches only for xf86drm.h.

Change-Id: If1e979c7d5aec520b18eed5b3fcbb5ac2e15cc62
---
 cmake/3rdparty/kwin/FindLibdrm.cmake | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/cmake/3rdparty/kwin/FindLibdrm.cmake b/cmake/3rdparty/kwin/FindLibdrm.cmake
index 9936e07eee..112a2ae358 100644
--- a/cmake/3rdparty/kwin/FindLibdrm.cmake
+++ b/cmake/3rdparty/kwin/FindLibdrm.cmake
@@ -104,6 +104,7 @@ if(NOT WIN32)
             INTERFACE_COMPILE_OPTIONS "${Libdrm_DEFINITIONS}"
             INTERFACE_INCLUDE_DIRECTORIES "${Libdrm_INCLUDE_DIR}"
             INTERFACE_INCLUDE_DIRECTORIES "${Libdrm_INCLUDE_DIR}/libdrm"
+            INTERFACE_INCLUDE_DIRECTORIES "${Libdrm_INCLUDE_DIR}/drm"
         )
     endif()
 
@@ -111,7 +112,7 @@ if(NOT WIN32)
 
     # compatibility variables
     set(Libdrm_LIBRARIES ${Libdrm_LIBRARY})
-    set(Libdrm_INCLUDE_DIRS ${Libdrm_INCLUDE_DIR} "${Libdrm_INCLUDE_DIR}/libdrm")
+    set(Libdrm_INCLUDE_DIRS ${Libdrm_INCLUDE_DIR} "${Libdrm_INCLUDE_DIR}/libdrm" "${Libdrm_INCLUDE_DIR}/drm")
     set(Libdrm_VERSION_STRING ${Libdrm_VERSION})
 
 else()
