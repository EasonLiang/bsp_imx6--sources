From b16fd97db7a0e79d06cac888d31b4d45b1366918 Mon Sep 17 00:00:00 2001
From: Samuli Piippo <samuli.piippo@qt.io>
Date: Fri, 26 Mar 2021 08:03:34 +0200
Subject: [PATCH] CMake: deploy libfftreal

Change-Id: I37e8e81145c228c9709b42ee59a7d1dbc0878d02
---
 .../spectrum/3rdparty/fftreal/CMakeLists.txt         | 12 ++++++++++++
 1 file changed, 12 insertions(+)

diff --git a/examples/multimedia/spectrum/3rdparty/fftreal/CMakeLists.txt b/examples/multimedia/spectrum/3rdparty/fftreal/CMakeLists.txt
index 35135b1c..4c45fd11 100644
--- a/examples/multimedia/spectrum/3rdparty/fftreal/CMakeLists.txt
+++ b/examples/multimedia/spectrum/3rdparty/fftreal/CMakeLists.txt
@@ -35,6 +35,12 @@ qt_add_cmake_library(fftreal
 # TEMPLATE = "lib"
 # target.path = "$$[QT_INSTALL_EXAMPLES]/multimedia/spectrum"
 
+if(NOT DEFINED INSTALL_EXAMPLESDIR)
+  set(INSTALL_EXAMPLESDIR "examples")
+endif()
+
+set(INSTALL_EXAMPLEDIR "${INSTALL_EXAMPLESDIR}/multimedia/spectrum")
+
 ## Scopes:
 #####################################################################
 
@@ -56,3 +62,9 @@ qt_extend_target(fftreal CONDITION WIN32
 
 #### Keys ignored in scope 11:.:../..:../../spectrum.pri:CONFIG(debug,release OR debug):
 # spectrum_build_dir = "/debug"
+
+install(TARGETS fftreal
+    RUNTIME DESTINATION "${INSTALL_EXAMPLEDIR}"
+    BUNDLE DESTINATION "${INSTALL_EXAMPLEDIR}"
+    LIBRARY DESTINATION "${INSTALL_EXAMPLEDIR}"
+)
