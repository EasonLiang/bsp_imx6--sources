From 5463fecde6833b0642e653ae1dd3037a8c7d93e5 Mon Sep 17 00:00:00 2001
From: Mike Krus <mike.krus@kdab.com>
Date: Thu, 3 Sep 2020 11:01:47 +0100
Subject: [PATCH] Fix build with latest QtBase

Task-number: QTBUG-86410
Change-Id: I26427d65de72c86f952b076259979f90eaef87f4
---
 src/animation/backend/functionrangefinder_p.h | 2 +-
 src/plugins/renderers/rhi/io/rhibuffer.cpp    | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/animation/backend/functionrangefinder_p.h b/src/animation/backend/functionrangefinder_p.h
index 5df05bea4..004bea4b8 100644
--- a/src/animation/backend/functionrangefinder_p.h
+++ b/src/animation/backend/functionrangefinder_p.h
@@ -81,7 +81,7 @@ private:
     int locate(float x) const;
     int hunt(float x) const;
 
-    const QList<float> &m_x;
+    QList<float> m_x;
     mutable int m_previousLowerBound;
     mutable bool m_correlated;
     int m_rangeSize;
diff --git a/src/plugins/renderers/rhi/io/rhibuffer.cpp b/src/plugins/renderers/rhi/io/rhibuffer.cpp
index 33818e69e..c2744dd6c 100644
--- a/src/plugins/renderers/rhi/io/rhibuffer.cpp
+++ b/src/plugins/renderers/rhi/io/rhibuffer.cpp
@@ -165,7 +165,7 @@ void RHIBuffer::allocate(const QByteArray &data, bool dynamic)
 
     m_datasToUpload.clear();
     m_datasToUpload.push_back({ data, 0 });
-    m_allocSize = std::max(m_allocSize, data.size());
+    m_allocSize = qMax(m_allocSize, data.size());
     m_dynamic = dynamic;
 }
 
