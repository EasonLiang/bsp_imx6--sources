From 35a285959381d39970fa971669fc965397aa0c46 Mon Sep 17 00:00:00 2001
From: Samuli Piippo <samuli.piippo@qt.io>
Date: Tue, 5 May 2020 13:19:24 +0300
Subject: [PATCH] Fix build without opengl

Change-Id: I7857f28f6ce8997dd38119c1d367d8cdbb3cbf37
---
 src/quick/items/qquickrendercontrol.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/quick/items/qquickrendercontrol.cpp b/src/quick/items/qquickrendercontrol.cpp
index eba3ef99a7..b74484832f 100644
--- a/src/quick/items/qquickrendercontrol.cpp
+++ b/src/quick/items/qquickrendercontrol.cpp
@@ -287,7 +287,7 @@ int QQuickRenderControl::samples() const
 bool QQuickRenderControl::initialize()
 {
     Q_D(QQuickRenderControl);
-
+#if QT_CONFIG(opengl)
     if (!d->window) {
         qWarning("QQuickRenderControl::initialize called with no associated window");
         return false;
@@ -311,7 +311,7 @@ bool QQuickRenderControl::initialize()
         qWarning("QRhi is only compatible with default adaptation");
         return false;
     }
-
+#endif
     return true;
 }
 
