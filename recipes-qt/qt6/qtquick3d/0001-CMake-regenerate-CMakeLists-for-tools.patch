From ec1191ae4bd16841c1db58ded60f0fdf7c804cbc Mon Sep 17 00:00:00 2001
From: Samuli Piippo <samuli.piippo@qt.io>
Date: Mon, 31 Aug 2020 09:55:21 +0300
Subject: [PATCH] CMake: regenerate CMakeLists for tools

Use qt_get_tool_target_name

Change-Id: I8b835a58cb0b95df978d87437d39df95aecc6ca5
Reviewed-by: Alexandru Croitor <alexandru.croitor@qt.io>
---
 tools/balsam/.prev_CMakeLists.txt    |  3 ++-
 tools/balsam/CMakeLists.txt          |  3 ++-
 tools/meshdebug/.prev_CMakeLists.txt |  3 ++-
 tools/meshdebug/CMakeLists.txt       |  3 ++-
 tools/shadergen/.prev_CMakeLists.txt | 21 +++++++++++++++++++++
 tools/shadergen/CMakeLists.txt       |  3 ++-
 6 files changed, 31 insertions(+), 5 deletions(-)
 create mode 100644 tools/shadergen/.prev_CMakeLists.txt

diff --git a/tools/balsam/.prev_CMakeLists.txt b/tools/balsam/.prev_CMakeLists.txt
index b42e580c..f2736e58 100644
--- a/tools/balsam/.prev_CMakeLists.txt
+++ b/tools/balsam/.prev_CMakeLists.txt
@@ -4,7 +4,8 @@
 ## balsam Tool:
 #####################################################################
 
-qt_add_tool(balsam
+qt_get_tool_target_name(target_name balsam)
+qt_add_tool(${target_name}
     SOURCES
         main.cpp
     PUBLIC_LIBRARIES
diff --git a/tools/balsam/CMakeLists.txt b/tools/balsam/CMakeLists.txt
index 55a090de..c8cd1d2b 100644
--- a/tools/balsam/CMakeLists.txt
+++ b/tools/balsam/CMakeLists.txt
@@ -4,7 +4,8 @@
 ## balsam Tool:
 #####################################################################
 
-qt_add_tool(balsam
+qt_get_tool_target_name(target_name balsam)
+qt_add_tool(${target_name}
     TOOLS_TARGET Quick3D # special case
     SOURCES
         main.cpp
diff --git a/tools/meshdebug/.prev_CMakeLists.txt b/tools/meshdebug/.prev_CMakeLists.txt
index 9ca4153a..34815a57 100644
--- a/tools/meshdebug/.prev_CMakeLists.txt
+++ b/tools/meshdebug/.prev_CMakeLists.txt
@@ -4,7 +4,8 @@
 ## meshdebug Tool:
 #####################################################################
 
-qt_add_tool(meshdebug
+qt_get_tool_target_name(target_name meshdebug)
+qt_add_tool(${target_name}
     SOURCES
         main.cpp
     PUBLIC_LIBRARIES
diff --git a/tools/meshdebug/CMakeLists.txt b/tools/meshdebug/CMakeLists.txt
index 18872bd7..a99ad773 100644
--- a/tools/meshdebug/CMakeLists.txt
+++ b/tools/meshdebug/CMakeLists.txt
@@ -4,7 +4,8 @@
 ## meshdebug Tool:
 #####################################################################
 
-qt_add_tool(meshdebug
+qt_get_tool_target_name(target_name meshdebug)
+qt_add_tool(${target_name}
     TOOLS_TARGET Quick3D # special case
     SOURCES
         main.cpp
diff --git a/tools/shadergen/.prev_CMakeLists.txt b/tools/shadergen/.prev_CMakeLists.txt
new file mode 100644
index 00000000..895ad73f
--- /dev/null
+++ b/tools/shadergen/.prev_CMakeLists.txt
@@ -0,0 +1,21 @@
+# Generated from shadergen.pro.
+
+#####################################################################
+## shadergen Tool:
+#####################################################################
+
+qt_get_tool_target_name(target_name shadergen)
+qt_add_tool(${target_name}
+    SOURCES
+        genshaders.cpp genshaders.h
+        main.cpp
+        parser.cpp parser.h
+    PUBLIC_LIBRARIES
+        Qt::Gui
+        Qt::GuiPrivate
+        Qt::Qml
+        Qt::QmlPrivate
+        Qt::Quick3DPrivate
+        Qt::Quick3DRuntimeRender
+        Qt::Quick3DRuntimeRenderPrivate
+)
diff --git a/tools/shadergen/CMakeLists.txt b/tools/shadergen/CMakeLists.txt
index f586767c..310473c7 100644
--- a/tools/shadergen/CMakeLists.txt
+++ b/tools/shadergen/CMakeLists.txt
@@ -4,7 +4,8 @@
 ## shadergen Tool:
 #####################################################################
 
-qt_add_tool(shadergen
+qt_get_tool_target_name(target_name shadergen)
+qt_add_tool(${target_name}
     TOOLS_TARGET Quick3D # special case
     SOURCES
         genshaders.cpp genshaders.h
